(this["webpackJsonpgraphql-client"]=this["webpackJsonpgraphql-client"]||[]).push([[0],{45:function(e,t,n){e.exports=n(59)},50:function(e,t,n){},51:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),l=n(38),i=n.n(l),c=(n(50),n(51),n(21)),u=n(19),d=n(9),m=n(13),o=n(32),s=n(15),b=n(25),E=n(18),g=n(17);function f(){var e=Object(E.a)(["\n  mutation updateFriend($input: FriendInput!) {\n    updateFriend(input: $input) {\n      id\n      firstName\n      lastName\n      gender\n      age\n    }\n  }\n"]);return f=function(){return e},e}function p(){var e=Object(E.a)(["\n  mutation createFriend($input: FriendInput!) {\n    createFriend(input: $input) {\n      id\n      firstName\n      lastName\n      gender\n      age\n    }\n  }\n"]);return p=function(){return e},e}function v(){var e=Object(E.a)(["\n  {\n    getFriends {\n      id\n      firstName\n      lastName\n      gender\n      age\n    }\n  }\n"]);return v=function(){return e},e}var F=Object(m.b)(v()),O=Object(m.b)(p()),h=Object(m.b)(f()),j=function(e){var t=e.initialFriend,n=e.allowEdit,l={firstName:"",lastName:"",gender:"OTHER",age:"",email:""},i=t||Object(b.a)({},l),c=Object(a.useState)(Object(b.a)({},i)),u=Object(s.a)(c,2),d=u[0],m=u[1],E=Object(g.b)(O,{update:function(e,t){var n=t.data.createFriend,a=e.readQuery({query:F}).getFriends;a.push(n),e.writeQuery({query:F,data:{getFriends:Object(o.a)(a)}})}}),f=Object(s.a)(E,2),p=f[0],v=(f[1].data,Object(g.b)(h,{update:function(e,t){var n=t.data.updateFriend,a=e.readQuery({query:F}).getFriends,r=a.findIndex((function(e){return e.id==n.id}));a[r]=n,e.writeQuery({query:F,data:{getFriends:Object(o.a)(a)}})}})),j=Object(s.a)(v,1)[0],N=function(e){var t=e.target.id;d[t]=e.target.value,m(Object(b.a)({},d))};return r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n={id:d.id,firstName:d.firstName,lastName:d.lastName,email:d.email,age:Number(d.age),gender:d.gender};t?j({variables:{input:n}}):p({variables:{input:n}}),m(Object(b.a)({},l))}},r.a.createElement("label",null,"FirstName",r.a.createElement("br",null),r.a.createElement("input",{type:"text",readOnly:!n,id:"firstName",value:d.firstName,onChange:N})),r.a.createElement("br",null),r.a.createElement("label",null,"LastName ",r.a.createElement("br",null),r.a.createElement("input",{readOnly:!n,type:"text",id:"lastName",value:d.lastName,onChange:N})),r.a.createElement("br",null),r.a.createElement("label",null,"Gender \xa0",r.a.createElement("select",{disabled:!n,id:"gender",value:d.gender,onChange:N},r.a.createElement("option",{value:"MALE"},"Male"),r.a.createElement("option",{value:"FEMALE"},"Female"),r.a.createElement("option",{value:"OTHER"},"Other"))),r.a.createElement("br",null),r.a.createElement("label",null,"Age ",r.a.createElement("br",null),r.a.createElement("input",{readOnly:!n,type:"number",id:"age",value:d.age,onChange:N})),r.a.createElement("br",null),r.a.createElement("br",null),n&&r.a.createElement("input",{type:"submit",value:"Submit"}))};function N(){var e=Object(E.a)(["\n  mutation deleteFriend($id: ID!) {\n    deleteFriend(id: $id)\n  }\n"]);return N=function(){return e},e}function y(){var e=Object(E.a)(["\n  {\n    getFriends {\n      id\n      firstName\n      lastName\n      language\n      gender\n      age\n      email\n    }\n  }\n"]);return y=function(){return e},e}var C=Object(m.b)(y()),q=Object(m.b)(N());function w(){var e=Object(g.c)(C,{pollInterval:1e4}),t=e.loading,n=e.error,a=e.data,l=e.refetch,i=Object(g.b)(q),c=Object(s.a)(i,1)[0];return t?r.a.createElement("h3",null,"Loading..."):n?r.a.createElement("p",null," ",JSON.stringify(n)):a?a.getFriends.map((function(e){var t=e.age?", Age: ".concat(e.age):null;return r.a.createElement("p",{key:e.id},e.id,", ",e.firstName," ",e.lastName,", ",e.gender,", ",e.email," ",t,"\xa0",r.a.createElement("a",{href:"#",onClick:function(){return t=e.id,c({variables:{id:t}}),void l();var t}},"Delete (Refetch All)"),", \xa0",r.a.createElement("a",{href:"#",onClick:function(){return t=e.id,void c({variables:{id:t},update:function(e){var n=e.readQuery({query:C}).getFriends.filter((function(e){return e.id!==t}));e.writeQuery({query:C,data:{getFriends:n}})}});var t}},"Delete (Update Cache)"))})):r.a.createElement("p",null,"No Data")}function x(){var e=Object(E.a)(["\n  query getFriend($id: ID!) {\n    getFriend(id: $id) {\n      id\n      firstName\n      lastName\n      language\n      gender\n      age\n      email\n    }\n  }\n"]);return x=function(){return e},e}var k=Object(m.b)(x());function A(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],l=t[1],i=Object(a.useState)(!1),c=Object(s.a)(i,2),u=c[0],d=c[1],m=Object(g.a)(k),o=Object(s.a)(m,2),b=o[0],E=o[1],f=E.loading,p=E.error,v=E.data;return r.a.createElement("div",null,"ID:",r.a.createElement("input",{type:"txt",value:n,onChange:function(e){l(e.target.value)}}),"\xa0 ",r.a.createElement("button",{onClick:function(){""!==n&&24===n.length&&(b({variables:{id:n}}),d(!1))}},"Find Friend"),r.a.createElement("br",null),r.a.createElement("br",null),f&&r.a.createElement("h2",null,"Loading..."),p&&r.a.createElement("h2",null,"Error while fetching friend..."),v&&r.a.createElement("div",null,r.a.createElement(j,{initialFriend:v.getFriend,allowEdit:u}),r.a.createElement("button",{onClick:function(){return d(!u)}},"Toggle Editing")))}function I(){return r.a.createElement("div",null,r.a.createElement("h2",null,"GraphQL/Apollo demo"),r.a.createElement("p",null,"This is meant as a simple client demo, using the GraphQL API provided by the Lynda Friends Video"))}var L=new m.a({uri:"https://graphqldemo.helvedesmaskine.dk/graphql"});function Q(){return r.a.createElement(c.a,null,r.a.createElement("div",null,r.a.createElement("ul",{className:"header"},r.a.createElement("li",null,r.a.createElement(c.b,{exact:!0,activeClassName:"selected",to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(c.b,{exact:!0,activeClassName:"selected",to:"/allFriends"},"All Friends")),r.a.createElement("li",null,r.a.createElement(c.b,{exact:!0,activeClassName:"selected",to:"/findFriend"},"Find Friend")),r.a.createElement("li",null,r.a.createElement(c.b,{exact:!0,activeClassName:"selected",to:"/addFriend"},"Add Friend"))),r.a.createElement("hr",null),r.a.createElement(d.a,{client:L},r.a.createElement("div",{className:"content"},r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/"},r.a.createElement(I,null)),r.a.createElement(u.a,{path:"/allFriends"},r.a.createElement(w,null)),r.a.createElement(u.a,{path:"/findFriend"},r.a.createElement(A,null)),r.a.createElement(u.a,{path:"/addFriend"},r.a.createElement(j,{allowEdit:!0})))))))}i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Q,null)),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.de05c74d.chunk.js.map